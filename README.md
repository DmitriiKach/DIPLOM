# üì∏ Social Network Backend
# Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –¥–ª—è –æ–±–º–µ–Ω–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏
API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π –∏ –∏—Ö —Ñ–æ—Ç–æ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫–∏.

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ—Å—Ç—ã —Å–æ—Å—Ç–æ—è—Ç –∏–∑ —Ç–µ–∫—Å—Ç–∞, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏ –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞.

–ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç–∞–º –º–æ–≥—É—Ç –≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ.

–ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –µ—ë 
–∞–≤—Ç–æ—Ä.

–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–∞–ø–∏—Å–∞–Ω—ã –∫ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –æ—Å—Ç–∞–≤–ª—è—Ç—å –∏—Ö –º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏,
—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –µ–≥–æ –∞–≤—Ç–æ—Ä.
–°–∞–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç–µ–∫—Å—Ç–∞ –∏ –¥–∞—Ç—ã –µ–≥–æ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

–ü–æ–º–∏–º–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏—é –≤ –≤–∏–¥–µ –ª–∞–π–∫–∞, –∞ —Ç–∞–∫ –∂–µ 
—É–±–∏—Ä–∞—Ç—å —Å–≤–æ–π –ª–∞–π–∫ —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.

–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–µ—Ç–∞–ª–µ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ–º–∏–º–æ –ø–æ–ª–µ–π —Å–∞–º–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 
–ª–∞–π–∫–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```json
{
  "id": 1,
  "text": "–ù–æ–≤—ã–π –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π –¥–µ–Ω—å",
  "image": "/posts/image1.jpg",
  "created_at": "2024-02-23T02:24:29.338414",
  "comments": [
    {
      "author": 2,
      "text": "–ö—Ä—É—Ç–æ",
      "created_at": "2024-02-23T05:12:31.054234"
    }
  ],
  "likes_count": 20
}
```

-----
## üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–µ–∫—Ç–∞

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

-   Python 3.10+
-   PostgreSQL 13+
-   pip / venv
-   Git

------------------------------------------------------------------------

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

#### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

``` bash
git clone <—Å—Å—ã–ª–∫–∞-–Ω–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π>
cd social_network
```

#### –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

``` bash
python -m venv venv
source venv/bin/activate   # Linux / macOS
venv\Scripts\activate    # Windows
```

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

``` bash
pip install -r requirements.txt
```

------------------------------------------------------------------------

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1.  –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL:

``` sql
CREATE DATABASE dj_diplom;
CREATE USER postgres WITH PASSWORD 'DiMariya_25';
GRANT ALL PRIVILEGES ON DATABASE dj_diplom TO postgres;
```

2.  –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:

``` bash
python manage.py makemigrations
python manage.py migrate
```

3.  –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

``` bash
python manage.py createsuperuser
```

------------------------------------------------------------------------

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

``` bash
python manage.py runserver
```

–ü—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

    http://127.0.0.1:8000/

------------------------------------------------------------------------

### 5. –†–∞–±–æ—Ç–∞ —Å API

#### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

**URL:** `POST http://127.0.0.1:8000/api-token-auth/`\
**Body (x-www-form-urlencoded):**

``` json
{
  "username": "–≤–∞—à_–ª–æ–≥–∏–Ω",
  "password": "–≤–∞—à_–ø–∞—Ä–æ–ª—å"
}
```

–û—Ç–≤–µ—Ç:

``` json
{"token": "abc123..."}
```

üëâ –î–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–∫–µ–Ω –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫:

    Authorization: Token abc123...


  ***–¢–∞–∫–∂–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª—å—é.***
------------------------------------------------------------------------

#### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

**–ü–æ—Å—Ç—ã** - `GET /posts/` --- —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤\
- `POST /posts/` --- —Å–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç (`text`, `images[]`)\
- `GET /posts/{id}/` --- –¥–µ—Ç–∞–ª–∏ –ø–æ—Å—Ç–∞\
- `PATCH /posts/{id}/` --- —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä)\
- `DELETE /posts/{id}/` --- —É–¥–∞–ª–∏—Ç—å –ø–æ—Å—Ç (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä)

**–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** - `GET /posts/{id}/comments/` --- —Å–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤\
- `POST /posts/{id}/comments/` --- –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\
- `PATCH /posts/{id}/comments/{comment_id}/` --- —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å (—Ç–æ–ª—å–∫–æ
–∞–≤—Ç–æ—Ä)\
- `DELETE /posts/{id}/comments/{comment_id}/` --- —É–¥–∞–ª–∏—Ç—å (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä)

**–õ–∞–π–∫–∏** - `POST /posts/{id}/likes/` --- –ø–æ—Å—Ç–∞–≤–∏—Ç—å –ª–∞–π–∫\
- `DELETE /posts/{id}/likes/` --- —É–±—Ä–∞—Ç—å –ª–∞–π–∫

------------------------------------------------------------------------

------------------------------------------------------------------------

### 6. –ú–µ–¥–∏–∞ –∏ —Å—Ç–∞—Ç–∏–∫–∞

-   –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫–µ `media/`
-   –î–ª—è —Ä–∞–±–æ—Ç—ã –¥–æ–±–∞–≤–∏—Ç—å –≤ `urls.py`:

``` python
urlpatterns += static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
```
